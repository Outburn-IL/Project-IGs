<div id="intro" dir="rtl" markdown="1">

## ביה"ח - Server

### DiagnosticReport Resource

הדוח המסכם כולל קישורים (references) לכל המשאבים הקשורים לתהליך:
תוצאות אטומיות, תוצאות פאנל, הפניות אטומיות, הפניה מאגדת. בנוסף כולל אובייקט עבור מסמך PDF.

<u>Interactions</u>
לצורך מימוש אינטראקציות היצירה והעדכון של DiagnosticReport, על ביה"ח לתמוך בפעולה הבאה:

- **POST DiagnosticReport** – שמירת הדוח המסכם, בהתבסס על המזהה העסקי שלו.
  בפעולת היצירה הראשונית, הדוח נשמר ללא קישור לתוצאות, אלא רק קישור להפניות (המאגדת והאטומיות) עליהן הוא מתבסס.
- **PUT DiagnosticReport** – עדכון הדוח המסכם, בשלב שכבר התקבלו תוצאות (חלק או כולן).
  בפעולת העדכון, הדוח המסכם יכלול תוכן כגון תוצאות הבדיקות האטומיות, תוצאות הסוללות ו- PDF עם מסמך עדכני של תמונת המצב הנוכחי.
  בעת העדכון, מתבצעת בדיקה האם הדוח כבר קיים בביה"ח.
  במידה וקיים – יתבצע עדכון של הדוח הקיים. במידה ולא קיים – יווצר דוח חדש.
  יש לתמוך באינטראקציה מסוג: **Conditional Update**


  דוגמה ל- conditional update:

`PUT [sever url]/DiagnosticReport?identifier=urn:ietf:rfc:3986|urn:uuid:d10303c5-7b66-4f1b-b6f0-24e5808c60f4`

יש לשים לב להמרת תווים מיוחדים באמצעות url encoding, בהתאם לדוגמה הנ"ל:

`PUT [sever url]/DiagnosticReport?identifier=urn:ietf:rfc:3986%7Curn:uuid:d10303c5-7b66-4f1b-b6f0-24e5808c60f4`

### Observation Resource

תוצאות המעבדה נשלחות מהקהילה לביה"ח.
בעת שליחת הדוח המסכם, נשלחות כל תוצאות המעבדה שהתקבלו בקהילה, גם הבודדות וגם אלו ששייכות לסוללה כלשהי.
אמנם תוצאות הבדיקה לרוב נשלחות באופן סינכרוני עם היווצרן בקהילה, אך מומלץ שגם בסיום התהליך, כאשר הדוח המסכם סופי, ישלח כל המידע בשלמותו (update), כולל כל התוצאות שהתקבלו, בכדי לוודא שלמות מידע מול ביה"ח.

<u>Interactions</u>

לצורך מימוש אינטראקציות היצירה והעדכון של Observation, על ביה"ח לתמוך בפעולות הבאות:

- **POST Observation** – שמירת תוצאת המעבדה האטומית או תוצאת הסוללה.
- **PUT Observation** – עדכון תוצאת המעבדה.
  יש לתמוך באינטראקציה מסוג: **Conditional Update**
  דוגמה ל- conditional update:

`PUT [sever url]/Observation?identifier=urn:ietf:rfc:3986|urn:uuid:d10303c5-7b66-4f1b-b6f0-24e5808c60f4`

#### DiagnosticReport Resource

משאב ההפניה, בנוסף לשמירתו בקהילה, נשמר בשלב מאוחר יותר גם בביה"ח. לכן על ביה"ח לתמוך באינטראקציות הבאות:

<u>Interactions</u>

לצורך מימוש אינטראקציות היצירה והעדכון של ServiceRequest, על ביה"ח לתמוך בפעולות הבאות:

- **POST ServiceRequest** – שמירת ההפניה האטומית או המאגדת.
- **PUT ServiceRequest** – עדכון ההפניה האטומית או המאגדת
  יש לתמוך באינטראקציה מסוג: **Conditional Update**


  דוגמה ל- conditional update:

`PUT [sever url]/ServiceRequest?identifier=urn:ietf:rfc:3986|urn:uuid:d10303c5-7b66-4f1b-b6f0-24e5808c60f4`

</div>